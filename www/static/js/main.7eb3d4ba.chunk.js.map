{"version":3,"sources":["other.js","home.js","account.js","index.js"],"names":["Header","props","state","user","menu","localStorage","getItem","fetch","headers","authorization","then","res","json","code","setState","username","avatar","userId","removeItem","toggleMenu","className","to","src","alt","this","onClick","style","display","color","Component","NotFound","document","title","Info","backgroundColor","children","Loading","Home","href","target","rel","Login","createRef","password","requesting","info","login","method","body","JSON","stringify","current","value","setItem","token","location","assign","message","catch","type","ref","autoFocus","disabled","onKeyPress","event","focus","Register","email","passwordVerify","cgu","acceptCgu","checked","response","Logout","status","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","addEventListener","result","error","Website","exact","path","window","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7eb3d4ba.chunk.js","sourcesContent":["import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport class Header extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.state = { user: null, menu: false };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!localStorage.getItem(\"token\")) return;\r\n        fetch(\"https://api.raraph84.ml/user\", { headers: { authorization: localStorage.getItem(\"token\") } }).then((res) => res.json()).then((res) => {\r\n            if (res.code === 200)\r\n                this.setState({ user: { username: res.username, avatar: \"https://api.raraph84.ml/avatar?userId=\" + res.userId } });\r\n            else if (res.code === 401)\r\n                localStorage.removeItem(\"token\");\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const toggleMenu = () => this.setState({ menu: !this.state.menu });\r\n\r\n        return <div className=\"header\">\r\n\r\n            <Link to=\"/home\" className=\"logo\">\r\n                <img src=\"/imgs/logo.png\" alt=\"Logo\" />\r\n                <span className=\"link\">Raraph84</span>\r\n            </Link>\r\n\r\n            {!this.state.user ?\r\n                <Link className=\"login\" to=\"/login\">Se connecter</Link> :\r\n                <div className=\"menu\">\r\n                    <div className=\"user\" onClick={toggleMenu}>\r\n                        <img src={this.state.user.avatar} alt=\" \" />\r\n                        <span>{this.state.user.username}</span>\r\n                    </div>\r\n                    <div style={{ display: this.state.menu ? \"\" : \"none\" }}>\r\n                        <Link to=\"/account\" onClick={toggleMenu}>Mon compte</Link>\r\n                        <Link to=\"/logout\" onClick={toggleMenu} style={{ color: \"red\" }}>Se déconnecter</Link>\r\n                    </div>\r\n                </div>}\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport class Footer extends Component {\r\n    render() {\r\n        return <div className=\"footer\"></div>;\r\n    }\r\n}\r\n\r\nexport class NotFound extends Component {\r\n    render() {\r\n\r\n        document.title = \"Page introuvable | Raraph84\";\r\n\r\n        return <div>\r\n            <div className=\"title\">Tu es perdu ?</div>\r\n            <div className=\"subtitle\">Cette page n'existe pas (ou pas encore)</div>\r\n            <Link to=\"/home\"><button>Revenir sur la page principale</button></Link>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport class Info extends Component {\r\n    render() {\r\n        return <div className=\"info\" style={{ backgroundColor: this.props.color || \"rgba(255, 0, 0, 0.25)\" }}>{this.props.children}</div>\r\n    }\r\n}\r\n\r\nexport class Loading extends Component {\r\n    render() {\r\n        return <div className=\"loading\"><i className=\"fas fa-spinner\" /></div>\r\n    }\r\n}","import { Component } from \"react\";\r\n\r\nimport \"./styles/home.scss\";\r\n\r\nexport class Home extends Component {\r\n    render() {\r\n\r\n        document.title = \"Accueil | Raraph84\";\r\n\r\n        return <div className=\"home\">\r\n            <div className=\"title\">Accueil</div>\r\n\r\n            <div className=\"subtitle\">Salut !</div>\r\n            <ul>\r\n                <div>Je suis développeur :</div>\r\n                <li>JavaScript (Front : React, Back/Bot Discord : NodeJS)</li>\r\n                <li>Java (Plugins Minecraft)</li>\r\n                <li>Bash (Linux)</li>\r\n                <li>HTML/CSS</li>\r\n            </ul>\r\n\r\n            <div className=\"subtitle\">Mes projets</div>\r\n            <div className=\"projects\">\r\n                <a href=\"https://eclipsia.fr/\" target=\"_blank\" rel=\"noreferrer\" className=\"box project\">\r\n                    <div className=\"title link\">Eclipsia</div>\r\n                    <img alt=\"Logo Eclipsia\" src=\"/imgs/logo-eclipsia.png\"></img>\r\n                    <div className=\"description\">\r\n                        Eclipsia est un serveur Mini-Jeux créé par des amis.\r\n                    </div>\r\n                </a>\r\n                <a href=\"https://discord.gg/AKMzGb9\" target=\"_blank\" rel=\"noreferrer\" className=\"box project\">\r\n                    <div className=\"title link\">DommiossGroup</div>\r\n                    <img alt=\"Logo DommiossGroup\" src=\"/imgs/logo-dommiossgroup.png\"></img>\r\n                    <div className=\"description\">\r\n                        Le DommiossGroup est un groupe de projets web et Minecraft fondé en 2018, développant actuellement un CMS et un serveur Minecraft Roleplay.\r\n                    </div>\r\n                </a>\r\n                <a href=\"https://discord.gg/5vZxSUy\" target=\"_blank\" rel=\"noreferrer\" className=\"box project\">\r\n                    <div className=\"title link\">Cubik Market</div>\r\n                    <img alt=\"Logo Cubik Market\" src=\"/imgs/logo-cubik-market.png\"></img>\r\n                    <div className=\"description\">\r\n                        Le Cubik Market est un market Paladium entièrement réalisé sur Discord.\r\n                    </div>\r\n                </a>\r\n                <a href=\"https://discord.gg/HQKUWDe\" target=\"_blank\" rel=\"noreferrer\" className=\"box project\">\r\n                    <div className=\"title link\">Discord Colonies</div>\r\n                    <img alt=\"Logo Discord Colonies\" src=\"/imgs/logo-discord-colonies.png\"></img>\r\n                    <div className=\"description\">\r\n                        Serveur Discord où l'on peut créer son pays, farmer des ressources, coloniser etc.\r\n                    </div>\r\n                </a>\r\n                <a href=\"https://discord.gg/GWFzTcN\" target=\"_blank\" rel=\"noreferrer\" className=\"box project\">\r\n                    <div className=\"title link\">Pala's Fun</div>\r\n                    <img alt=\"Logo Pala's Fun\" src=\"/imgs/logo-palas-fun.png\"></img>\r\n                    <div className=\"description\">\r\n                        Bot Discord en rapport avec Paladium.\r\n                    </div>\r\n                </a>\r\n            </div>\r\n\r\n            <div className=\"subtitle\">Me contacter</div>\r\n            <div className=\"contactme\">\r\n                <div>\r\n                    Mon serveur Discord : <a href=\"https://discord.gg/MRjDxpx\" target=\"_blank\" rel=\"noreferrer\"><span className=\"link\">https://discord.gg/MRjDxpx</span></a>\r\n                </div>\r\n                <div>\r\n                    Mon adresse Email : <a href=\"mailto:raraph84@gmail.com\"><span className=\"link\">raraph84@gmail.com</span></a>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n}","import { Component, createRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Info, Loading } from \"./other\";\r\n\r\nimport \"./styles/account.scss\";\r\n\r\nexport class Login extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.username = createRef();\r\n        this.password = createRef();\r\n\r\n        this.state = { requesting: false, info: null };\r\n    }\r\n\r\n    render() {\r\n\r\n        document.title = \"Connexion | Raraph84\";\r\n\r\n        const login = () => {\r\n\r\n            if (localStorage.getItem(\"token\")) {\r\n                this.setState({ info: <Info>Vous êtes déjà connecté !</Info> });\r\n                return;\r\n            }\r\n\r\n            this.setState({ requesting: true, info: null });\r\n\r\n            fetch(\"https://api.raraph84.ml/login\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    username: this.username.current.value,\r\n                    password: this.password.current.value\r\n                })\r\n            }).then((res) => res.json()).then((res) => {\r\n\r\n                if (res.code === 200) {\r\n                    localStorage.setItem(\"token\", res.token);\r\n                    document.location.assign(\"/\");\r\n                } else if (res.message === \"Missing username\")\r\n                    this.setState({ requesting: false, info: <Info>Nom d'utilisateur manquant !</Info> });\r\n                else if (res.message === \"Missing password\")\r\n                    this.setState({ requesting: false, info: <Info>Mot de passe manquant !</Info> });\r\n                else if (res.message === \"Invalid username or password\")\r\n                    this.setState({ requesting: false, info: <Info>Nom d'utilisateur/mot de passe incorrect !</Info> });\r\n                else if (res.message === \"Too many login fails\")\r\n                    this.setState({ requesting: false, info: <Info>Trop d'essais de connexion, réessaye plus tard !</Info> });\r\n\r\n                else this.setState({ requesting: false, info: <Info>Un problème est survenu !</Info> });\r\n            }).catch(() => this.setState({ requesting: false, info: <Info>Un problème est survenu !</Info> }));\r\n        }\r\n\r\n        return <div className=\"login\">\r\n            <div className=\"title\">Connexion</div>\r\n\r\n            {this.state.requesting ? <Loading /> : null}\r\n            {this.state.info}\r\n\r\n            <div>\r\n                <span className=\"hint\">Nom d'utilisateur/Email :</span>\r\n                <input type=\"text\" ref={this.username} autoFocus disabled={this.state.requesting} onKeyPress={(event) => { if (event.code === \"Enter\") this.password.current.focus(); }} />\r\n            </div>\r\n\r\n            <div>\r\n                <span className=\"hint\">Mot de passe :</span>\r\n                <input type=\"password\" ref={this.password} disabled={this.state.requesting} onKeyPress={(event) => { if (event.code === \"Enter\") login() }} />\r\n            </div>\r\n\r\n            <div><button disabled={this.state.requesting} onClick={login}>Se connecter</button></div>\r\n\r\n            <Link to=\"/register\"><span className=\"link\">Je n'ai pas de compte</span></Link>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport class Register extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.username = createRef();\r\n        this.email = createRef();\r\n        this.password = createRef();\r\n        this.passwordVerify = createRef();\r\n        this.cgu = createRef();\r\n\r\n        this.state = { requesting: false, info: null };\r\n    }\r\n\r\n    render() {\r\n\r\n        document.title = \"Créer un compte | Raraph84\";\r\n\r\n        const createAccount = () => {\r\n\r\n            if (localStorage.getItem(\"token\")) {\r\n                this.setState({ info: <Info>Vous êtes déjà connecté !</Info> });\r\n                return;\r\n            }\r\n\r\n            if (this.password.current.value !== this.passwordVerify.current.value) {\r\n                this.setState({ info: <Info>Les mots de passe ne correspondent pas !</Info> });\r\n                return;\r\n            }\r\n\r\n            this.setState({ requesting: true, info: null });\r\n            fetch(\"https://api.raraph84.ml/createAccount\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    username: this.username.current.value,\r\n                    email: this.email.current.value,\r\n                    password: this.password.current.value,\r\n                    acceptCgu: this.cgu.current.checked\r\n                })\r\n            }).then((res) => res.json()).then((response) => {\r\n\r\n                if (response.code === 200) {\r\n                    localStorage.setItem(\"token\", response.token);\r\n                    document.location.assign(\"/\");\r\n                } else if (response.message === \"You must accept CGU\")\r\n                    this.setState({ requesting: false, info: <Info>Vous devez lire et accepter les conditions générales d'utilisation !</Info> });\r\n                else if (response.message === \"Missing username\")\r\n                    this.setState({ requesting: false, info: <Info>Nom d'utilisateur manquant !</Info> });\r\n                else if (response.message === \"Username too long\")\r\n                    this.setState({ requesting: false, info: <Info>Le nom d'utilisateur doit faire moins de 25 caractères !</Info> });\r\n                else if (response.message === \"Username already exist\")\r\n                    this.setState({ requesting: false, info: <Info>Ce nom d'utilisateur est déjà utilisé !</Info> });\r\n                else if (response.message === \"Missing email\")\r\n                    this.setState({ requesting: false, info: <Info>Email manquante !</Info> });\r\n                else if (response.message === \"Invalid email\")\r\n                    this.setState({ requesting: false, info: <Info>Email invalide !</Info> });\r\n                else if (response.message === \"Email already exist\")\r\n                    this.setState({ requesting: false, info: <Info>Cette adresse email est déjà utilisé !</Info> });\r\n                else if (response.message === \"Missing password\")\r\n                    this.setState({ requesting: false, info: <Info>Mot de passe manquant !</Info> });\r\n                else if (response.message === \"Please wait one day to create another account\")\r\n                    this.setState({ requesting: false, info: <Info>Trop de créations de comptes, réessaye plus tard !</Info> });\r\n                else\r\n                    this.setState({ requesting: false, info: <Info>Un problème est survenu !</Info> });\r\n            });\r\n        }\r\n\r\n        return <div className=\"login\">\r\n            <div className=\"title\">Créer un compte</div>\r\n\r\n            {this.state.requesting ? <Loading /> : null}\r\n            {this.state.info}\r\n\r\n            <div>\r\n                <span className=\"hint\">Nom d'utilisateur :</span>\r\n                <input type=\"text\" ref={this.username} disabled={this.state.requesting} />\r\n            </div>\r\n\r\n            <div>\r\n                <span className=\"hint\">Email :</span>\r\n                <input type=\"text\" ref={this.email} disabled={this.state.requesting} />\r\n            </div>\r\n\r\n            <div>\r\n                <span className=\"hint\">Mot de passe :</span>\r\n                <input type=\"password\" ref={this.password} disabled={this.state.requesting} />\r\n            </div>\r\n\r\n            <div>\r\n                <span className=\"hint\">Retaper le mot de passe :</span>\r\n                <input type=\"password\" ref={this.passwordVerify} disabled={this.state.requesting} />\r\n            </div>\r\n\r\n            <div>\r\n                <div className=\"hint\">J'ai lu et accepté les <Link to=\"/cgu\"><span className=\"link\">conditions générales d'utilisation</span></Link> :</div>\r\n                <input type=\"checkbox\" ref={this.cgu} disabled={this.state.requesting} />\r\n            </div>\r\n\r\n            <div><button onClick={createAccount}>Créer le compte</button></div>\r\n\r\n            <Link to=\"/login\"><span className=\"link\">J'ai déjà un compte</span></Link>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport class Logout extends Component {\r\n\r\n    componentDidMount() {\r\n        fetch(\"https://api.raraph84.ml/logout\", { method: \"POST\", headers: { authorization: localStorage.getItem(\"token\") } }).then((response) => {\r\n            if (response.status === 204)\r\n                localStorage.removeItem(\"token\");\r\n            document.location.assign(\"/\");\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        document.title = \"Déconnexion | Raraph84\";\r\n\r\n        return <div>\r\n            <div className=\"title\">Déconnexion...</div>\r\n            <Loading />\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport class Account extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.username = createRef();\r\n        this.email = createRef();\r\n        this.password = createRef();\r\n        this.passwordVerify = createRef();\r\n        this.avatar = createRef();\r\n\r\n        this.state = { requesting: false, info: null, avatar: null, password: false };\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\"https://api.raraph84.ml/user\", { headers: { authorization: localStorage.getItem(\"token\") } }).then((res) => res.json()).then((res) => {\r\n            if (res.code === 200)\r\n                this.setState({ avatar: \"https://api.raraph84.ml/avatar?userId=\" + res.userId });\r\n            else if (res.code === 401) {\r\n                localStorage.removeItem(\"token\");\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        document.title = \"Mon compte | Raraph84\";\r\n\r\n        return <div className=\"account\">\r\n            <div className=\"title\">Mon compte</div>\r\n\r\n            {this.state.requesting ? <Loading /> : null}\r\n            {this.state.info}\r\n\r\n            <div>\r\n                <span>Nom d'utilisateur :</span>\r\n                <input ref={this.username} />\r\n            </div>\r\n\r\n            <div>\r\n                <span>Email :</span>\r\n                <input ref={this.email} />\r\n            </div>\r\n\r\n            <div>\r\n                <span>Mot de passe :</span>\r\n                <input type=\"password\" ref={this.password} placeholder=\"Ne pas modifier\" autoComplete=\"new-password\" />\r\n            </div>\r\n\r\n            {this.state.password ? <div>\r\n                <span>Retaper le mot de passe :</span>\r\n                <input type=\"password\" ref={this.passwordVerify} />\r\n            </div> : null}\r\n\r\n            <div className=\"avatar\">\r\n                <span>Avatar :</span>\r\n                <input type=\"file\" id=\"avatarInput\" accept=\".png, .jpg, .jpeg, .gif\" onChange={async (event) => this.setState({ avatar: await toBase64(event.target.files[0]) })} />\r\n                <div className=\"display\" onClick={() => document.getElementById(\"avatarInput\").click()}>\r\n                    <img src={this.state.avatar} className=\"avatar\" alt=\"Changer d'avatar\" />\r\n                    <span>Changer d'avatar</span>\r\n                </div>\r\n                <button className=\"button\" style={{ display: this.state.avatar ? \"\" : \"none\" }} onClick={() => this.setState({ avatar: \"\" })}>Supprimer l'avatar</button>\r\n            </div>\r\n\r\n            <div className=\"buttons\">\r\n                <button className=\"button\">Enregistrer</button>\r\n                <button className=\"button\">Supprimer mon compte</button>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nconst toBase64 = (file) => new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.addEventListener(\"load\", () => resolve(reader.result));\r\n    reader.addEventListener(\"error\", (error) => reject(error));\r\n});","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport { Header, NotFound } from \"./other\";\nimport { Home } from \"./home\";\nimport { Login, Logout, Register } from \"./account\";\n\nimport \"./styles/common.scss\";\n\nclass Website extends React.Component {\n    render() {\n        return <BrowserRouter>\n            <Header />\n            <div className=\"content\">\n                <Switch>\n                    <Route exact path=\"/\"><Home /></Route>\n                    <Route exact path=\"/home\"><Home /></Route>\n                    <Route exact path=\"/login\"><Login /></Route>\n                    <Route exact path=\"/logout\"><Logout /></Route>\n                    <Route exact path=\"/register\"><Register /></Route>\n                    <Route exact path=\"/freenitro\">{() => window.location.assign(\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\")}</Route>\n                    <Route path=\"*\"><NotFound /></Route>\n                </Switch>\n            </div>\n        </BrowserRouter>;\n    }\n}\n\nReactDOM.render(<React.StrictMode><Website /></React.StrictMode>, document.getElementById(\"root\"));"],"sourceRoot":""}